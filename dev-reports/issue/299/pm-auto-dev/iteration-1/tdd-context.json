{
  "issue_number": 299,
  "title": "レイアウトが崩れる（iPad Chrome / スマホ）",
  "work_plan_path": "dev-reports/issue/299/work-plan.md",
  "design_policy_path": "dev-reports/design/issue-299-ipad-layout-fix-design-policy.md",
  "acceptance_criteria": [
    "iPad Chrome横置きでWorktree一覧画面のレイアウトが正常表示される",
    "iPad Chrome縦置きでWorktree一覧画面のレイアウトが正常表示される",
    "iPad ChromeでMarkdownエディタ全画面表示が白画面にならない",
    "スマホChrome全画面表示中の上方向スクロールで全画面が解除されない",
    "z-index.ts の定数値・JSDocコメント・各コンポーネントの実装値が全て一致している",
    "既存のデスクトップレイアウトが破壊されていないこと",
    "既存のモバイルレイアウトが破壊されていないこと"
  ],
  "implementation_tasks": [
    "Task 1.1: src/config/z-index.ts JSDocコメント修正（Modal dialogs 9999→50、レイヤー番号繰り上げ）",
    "Task 1.2: src/components/ui/Modal.tsx z-[9999]をZ_INDEX.MODALに統一",
    "Task 1.3: src/components/common/Toast.tsx z-50をZ_INDEX.TOASTに統一",
    "Task 1.4: src/components/worktree/ContextMenu.tsx z-50をZ_INDEX.CONTEXT_MEMUに統一",
    "Task 2.1: src/hooks/useSwipeGesture.ts にisInsideScrollableElement追加・handleTouchStart修正",
    "Task 2.2: src/components/worktree/MarkdownEditor.tsx swipe threshold 100→150",
    "Task 3.1: src/components/worktree/SearchBar.tsx 768ハードコード→MOBILE_BREAKPOINT定数",
    "Task 3.2: src/components/layout/AppShell.tsx iPad横置き確認・調整",
    "Task 3.3: src/components/worktree/WorktreeDesktopLayout.tsx iPad向け確認・調整",
    "Task 4.1: tests/unit/config/z-index.test.ts 新規作成（順序テスト）",
    "Task 4.2: tests/unit/hooks/useSwipeGesture.test.ts 更新（scrollable判定テスト追加）"
  ],
  "target_coverage": 80,
  "key_files": [
    "src/config/z-index.ts",
    "src/components/ui/Modal.tsx",
    "src/components/common/Toast.tsx",
    "src/components/worktree/ContextMenu.tsx",
    "src/hooks/useSwipeGesture.ts",
    "src/components/worktree/MarkdownEditor.tsx",
    "src/components/worktree/SearchBar.tsx",
    "src/components/layout/AppShell.tsx",
    "src/components/worktree/WorktreeDesktopLayout.tsx"
  ]
}
