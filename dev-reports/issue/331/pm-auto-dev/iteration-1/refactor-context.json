{
  "issue_number": 331,
  "refactor_targets": [
    "src/lib/auth.ts",
    "src/middleware.ts",
    "src/app/api/auth/login/route.ts",
    "src/app/api/auth/logout/route.ts",
    "src/app/api/auth/status/route.ts",
    "src/app/login/page.tsx",
    "src/components/common/LogoutButton.tsx",
    "src/lib/ws-server.ts",
    "server.ts",
    "src/cli/commands/start.ts",
    "src/cli/utils/daemon.ts"
  ],
  "quality_metrics": {
    "before_coverage": 80.0,
    "test_count": 3724,
    "new_tests": 89
  },
  "improvement_goals": [
    "コードの可読性向上（関数・変数名の明確化）",
    "エラーハンドリングの改善（一貫したエラーメッセージ）",
    "SOLID原則の確認と改善（単一責任原則）",
    "DRY原則の確認（重複コードがあれば統合）",
    "型安全性の向上",
    "コメントの追加（公開APIのJSDoc）",
    "セキュリティ制約の維持（S001: timingSafeEqual, S002: 完全一致パスマッチ）"
  ],
  "constraints": [
    "テストを壊さない",
    "tsc --noEmit が通ること",
    "npm run lint が通ること",
    "セキュリティ制約 S001/S002/C001 を維持すること",
    "動作変更は行わない"
  ],
  "acceptance_result_path": "dev-reports/issue/331/pm-auto-dev/iteration-1/acceptance-result.json"
}
